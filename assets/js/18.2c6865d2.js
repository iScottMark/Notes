(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{524:function(t,s,a){t.exports=a.p+"assets/img/07-06-metaclass.65d2a7c4.png"},566:function(t,s,a){"use strict";a.r(s);var n=a(5),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"_7-0-简介"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-0-简介"}},[t._v("#")]),t._v(" 7.0.简介")]),t._v(" "),n("p",[t._v("OOP 中最基础的 3 个特征：")]),t._v(" "),n("ul",[n("li",[t._v("数据封装")]),t._v(" "),n("li",[t._v("继承")]),t._v(" "),n("li",[t._v("多态")])]),t._v(" "),n("p",[t._v("在 Python 中，OOP 还有很多高级特性，允许我们写出非常强大的功能。")]),t._v(" "),n("ul",[n("li",[t._v("多重继承")]),t._v(" "),n("li",[t._v("定制类")]),t._v(" "),n("li",[t._v("元类")]),t._v(" "),n("li",[t._v("……")])]),t._v(" "),n("p",[n("br"),n("br")]),t._v(" "),n("h2",{attrs:{id:"_7-1-使用-slots"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-使用-slots"}},[t._v("#")]),t._v(" 7.1.使用 "),n("code",[t._v("__slots__")])]),t._v(" "),n("p",[t._v("§ 6.5.实例属性和类属性中已经讲了，可以给实例自由绑定属性，同样我们也可以给实例绑定方法：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" def set_age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self, age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义一个函数作为实例方法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     self.age "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" age\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" from types "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" MethodType\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.set_age "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" MethodType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("set_age, s"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 给实例绑定一个方法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.set_age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 调用实例方法")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.age  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 测试结果")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v("\n")])])]),n("p",[n("strong",[t._v("但是，给一个实例绑定的方法，对另一个实例是不起作用的：")])]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建新的实例")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s2.set_age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 尝试调用方法")]),t._v("\nTraceback "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("most recent call last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n  File "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<stdin>"')]),t._v(", line "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("module"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nAttributeError: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Student'")]),t._v(" object has no attribute "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'set_age'")]),t._v("\n")])])]),n("p",[t._v("为了给所有实例都绑定方法，可以给 class 绑定方法：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" def set_score"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self, score"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     self.score "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" score\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Student.set_score "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" set_score\n")])])]),n("p",[t._v("给 class 绑定方法后，所有实例均可调用：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.set_score"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.score\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s2.set_score"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s2.score\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),t._v("\n")])])]),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"title"}),n("p",[t._v("通常情况下，上面的 "),n("code",[t._v("set_score")]),t._v(" 方法可以直接定义在 class 中，但动态绑定允许我们在程序运行的过程中动态地给 class 加上功能，这在静态语言中很难实现。")])]),n("p",[n("strong",[t._v("使用 "),n("code",[t._v("__slots__")]),t._v(" 限制可绑定的实例属性")])]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Student")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    __slots__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'age'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用tuple定义允许绑定的属性名称")]),t._v("\n")])])]),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 创建新的实例")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Michael'")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 绑定属性'name'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.age "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 绑定属性'age'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.score "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("99")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 绑定属性'score'")]),t._v("\nTraceback "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("most recent call last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n  File "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<stdin>"')]),t._v(", line "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(", "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("module"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nAttributeError: "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Student'")]),t._v(" object has no attribute "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'score'")]),t._v("\n")])])]),n("p",[t._v("使用 "),n("code",[t._v("__slots__")]),t._v(" 要注意，"),n("code",[t._v("__slots__")]),t._v(" 定义的属性仅对当前类实例起作用，对继承的子类是不起作用的：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" class GraduateStudent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     pass\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" g "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" GraduateStudent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" g.score "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),t._v("\n")])])]),n("p",[t._v("除非在子类中也定义 "),n("code",[t._v("__slots__")]),t._v("，这样，子类实例允许定义的属性就是自身的 "),n("code",[t._v("__slots__")]),t._v(" 加上父类的 "),n("code",[t._v("__slots__")]),t._v("。")]),t._v(" "),n("p",[n("strong",[t._v("小结")])]),t._v(" "),n("p",[t._v("绑定属性和方法")]),t._v(" "),n("table",[n("thead",[n("tr",[n("th"),t._v(" "),n("th",[t._v("类")]),t._v(" "),n("th",[t._v("实例")]),t._v(" "),n("th",[t._v("备注")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[n("b",[t._v("属性")])]),t._v(" "),n("td",[t._v("在类内部定义")]),t._v(" "),n("td",[t._v("外部自由绑定")]),t._v(" "),n("td",[t._v("若绑定的属性相同，实例属性会屏蔽类属性")])]),t._v(" "),n("tr",[n("td",[n("b",[t._v("方法")])]),t._v(" "),n("td",[t._v("可在外部传入函数方法，但不建议这么做，通常定义在类内部")]),t._v(" "),n("td",[t._v("使用 "),n("code",[t._v("types.MethodType")])]),t._v(" "),n("td",[t._v("类方法可通用；但实例绑定的方法，对另一个实例"),n("strong",[t._v("不")]),t._v("起作用")])])])]),t._v(" "),n("p",[n("br"),n("br")]),t._v(" "),n("h2",{attrs:{id:"_7-2-使用-property"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-使用-property"}},[t._v("#")]),t._v(" 7.2.使用 "),n("code",[t._v("@property")])]),t._v(" "),n("p",[n("strong",[t._v("如何使用")])]),t._v(" "),n("p",[t._v("之前在 § 6.2.访问限制中举过一个从访问私有变量例子：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Student")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__name\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get_score")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__score\n")])])]),n("p",[t._v("但这样大费周折，可以换来检查参数的好处，但在调用时一点都不 Pythonic，而 "),n("code",[t._v("@property")]),t._v(" 就是解决这一问题的。")]),t._v(" "),n("p",[n("code",[t._v("@property")]),t._v(" 也是一种 Python 内置的装饰器，用于"),n("strong",[t._v("把一个方法变成属性调用")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Student")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@property")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("score")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_score\n\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@score"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setter")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("score")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("isinstance")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("raise")]),t._v(" ValueError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'score must be an integer!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("or")]),t._v(" value "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("raise")]),t._v(" ValueError"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'score must between 0 ~ 100!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_score "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value\n")])])]),n("p",[t._v("把一个 "),n("code",[t._v("getter")]),t._v(" 方法变成属性，只需要加上 "),n("code",[t._v("@property")]),t._v(" 就可以了，此时，"),n("code",[t._v("@property")]),t._v("本身又创建了另一个装饰器"),n("code",[t._v("@score.setter")]),t._v("，负责把一个 "),n("code",[t._v("setter")]),t._v(" 方法变成属性赋值，于是，我们就拥有一个可控的属性操作：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.score "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OK，实际转化为s.set_score(60)")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.score  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# OK，实际转化为s.get_score()")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s.score "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9999")]),t._v("\nTraceback "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("most recent call last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nValueError: score must between "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" ~ "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])])]),n("p",[n("strong",[t._v("只读属性")])]),t._v(" "),n("ul",[n("li",[t._v("上述例子中，我们对一个属性定义了 "),n("code",[t._v("getter")]),t._v(" 和 "),n("code",[t._v("setter")]),t._v(" 两种方法，则这个属性就是"),n("strong",[t._v("可读可写")]),t._v("的；")]),t._v(" "),n("li",[t._v("如果只定义 "),n("code",[t._v("getter")]),t._v(" 方法，则这个属性就是"),n("strong",[t._v("只读")]),t._v("的。")])]),t._v(" "),n("p",[t._v("举个例子：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Student")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@property")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("birth")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_birth\n\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@birth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("setter")]),t._v("                       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# birth 属性可读可写")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("birth")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_birth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value\n\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@property")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("age")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2015")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_birth       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# age 属性为只读，因为可以根据 birth 计算出来，")]),t._v("\n")])])]),n("p",[t._v("另外一个例子（摘自知乎 —— "),n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/64487092",target:"_blank",rel:"noopener noreferrer"}},[t._v("python @property的介绍与使用"),n("OutboundLink")],1),t._v("）：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 与所定义的属性配合使用，这样可以防止属性被修改")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("DataSet")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    \n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_images "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_labels "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义属性的名称")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@property")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("images")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  \n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 方法加入@property后，这个方法相当于一个属性，")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这个属性可以让用户进行使用，而且用户有没办法随意修改。")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_images \n    \n    "),n("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[t._v("@property")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("labels")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_labels\n\n\nl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" DataSet"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用户进行属性调用的时候，直接调用images即可，而不用知道属性名_images，")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 因此用户无法更改属性，从而保护了类的属性。")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("l"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("images"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 加了@property后，可以用调用属性的形式来调用方法,后面不需要加（）。")]),t._v("\n")])])]),n("p",[n("strong",[t._v("小结")])]),t._v(" "),n("ul",[n("li",[n("code",[t._v("@property")]),t._v(" "),n("strong",[t._v("用于修饰方法，使方法可以像属性一样访问")]),t._v("，主要是为了对属性进行参数检查的同时，还能在调用上更为方便、简洁。")]),t._v(" "),n("li",[t._v("只定义 "),n("code",[t._v("getter")]),t._v(" 方法，不定义 "),n("code",[t._v("setter")]),t._v(" 方法就是一个"),n("strong",[t._v("只读属性，与所定义的属性配合使用，可以防止属性被修改")]),t._v("。")])]),t._v(" "),n("p",[n("br"),n("br")]),t._v(" "),n("h2",{attrs:{id:"_7-3-多重继承"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-多重继承"}},[t._v("#")]),t._v(" 7.3.多重继承")]),t._v(" "),n("p",[t._v("如果按照 "),n("em",[t._v("哺乳动物")]),t._v(" 和 "),n("em",[t._v("鸟类")]),t._v(" 归类：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("                ┌───────────────┐             \n                │    Animal     │\n                └───────────────┘\n                        │\n           ┌────────────┴────────────┐\n           │                         │\n           ▼                         ▼\n    ┌─────────────┐           ┌─────────────┐\n    │   Mammal    │           │    Bird     │\n    └─────────────┘           └─────────────┘\n           │                         │\n     ┌─────┴──────┐            ┌─────┴──────┐\n     │            │            │            │\n     ▼            ▼            ▼            ▼\n┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐\n│   Dog   │  │   Bat   │  │ Parrot  │  │ Ostrich │\n└─────────┘  └─────────┘  └─────────┘  └─────────┘\n")])])]),n("p",[t._v("如果按照 "),n("em",[t._v("能跑")]),t._v(" 和 "),n("em",[t._v("能飞")]),t._v(" 归类：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("                ┌───────────────┐\n                │    Animal     │\n                └───────────────┘\n                        │\n           ┌────────────┴────────────┐\n           │                         │\n           ▼                         ▼\n    ┌─────────────┐           ┌─────────────┐\n    │  Runnable   │           │   Flyable   │\n    └─────────────┘           └─────────────┘\n           │                         │\n     ┌─────┴──────┐            ┌─────┴──────┐\n     │            │            │            │\n     ▼            ▼            ▼            ▼\n┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐\n│   Dog   │  │ Ostrich │  │ Parrot  │  │   Bat   │\n└─────────┘  └─────────┘  └─────────┘  └─────────┘\n")])])]),n("p",[t._v("如果要把上面的两种分类都包含进来，我们就得设计更多的层次：")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("                ┌───────────────┐\n                │    Animal     │\n                └───────────────┘\n                        │\n           ┌────────────┴────────────┐\n           │                         │\n           ▼                         ▼\n    ┌─────────────┐           ┌─────────────┐\n    │   Mammal    │           │    Bird     │\n    └─────────────┘           └─────────────┘\n           │                         │\n     ┌─────┴──────┐            ┌─────┴──────┐\n     │            │            │            │\n     ▼            ▼            ▼            ▼\n┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐\n│  MRun   │  │  MFly   │  │  BRun   │  │  BFly   │\n└─────────┘  └─────────┘  └─────────┘  └─────────┘\n     │            │            │            │\n     │            │            │            │\n     ▼            ▼            ▼            ▼\n┌─────────┐  ┌─────────┐  ┌─────────┐  ┌─────────┐\n│   Dog   │  │   Bat   │  │ Ostrich │  │ Parrot  │\n└─────────┘  └─────────┘  └─────────┘  └─────────┘\n")])])]),n("p",[t._v("而"),n("strong",[t._v("多重继承")]),t._v("就避免了这种类数量呈指数增长的设计问题：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Animal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 大类:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Mammal")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Animal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bird")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Animal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 各种动物:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Mammal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Mammal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Parrot")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Bird"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Ostrich")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Bird"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n")])])]),n("p",[t._v("现在，我们要给动物再加上 "),n("code",[t._v("Runnable")]),t._v(" 和 "),n("code",[t._v("Flyable")]),t._v(" 的功能，只需要先定义好 "),n("code",[t._v("Runnable")]),t._v(" 和 "),n("code",[t._v("Flyable")]),t._v(" 的类：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Runnable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Running...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Flyable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fly")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Flying...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("对于需要 "),n("code",[t._v("Runnable")]),t._v(" 功能的动物，就多继承一个 "),n("code",[t._v("Runnable")]),t._v("，例如 "),n("code",[t._v("Dog")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Mammal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Runnable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n")])])]),n("p",[t._v("对于需要 "),n("code",[t._v("Flyable")]),t._v(" 功能的动物，就多继承一个 "),n("code",[t._v("Flyable")]),t._v("，例如 "),n("code",[t._v("Bat")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Bat")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Mammal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Flyable"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n")])])]),n("p",[t._v("通过多重继承，一个子类就可以同时获得多个父类的所有功能。")]),t._v(" "),n("p",[n("br"),n("br")]),t._v(" "),n("h3",{attrs:{id:"mixin"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mixin"}},[t._v("#")]),t._v(" MixIn")]),t._v(" "),n("p",[t._v("在设计类的继承关系时，通常，主线都是单一继承下来的，例如，"),n("code",[t._v("Ostrich")]),t._v(" 继承自 "),n("code",[t._v("Bird")]),t._v("。但是，如果需要“混入”额外的功能，通过多重继承就可以实现，比如，让 "),n("code",[t._v("Ostrich")]),t._v(" 除了继承自 "),n("code",[t._v("Bird")]),t._v(" 外，再同时继承 "),n("code",[t._v("Runnable")]),t._v("。这种设计通常称之为 "),n("code",[t._v("MixIn")]),t._v("。")]),t._v(" "),n("p",[t._v("为了更好地看出继承关系，我们把 "),n("code",[t._v("Runnable")]),t._v(" 和 "),n("code",[t._v("Flyable")]),t._v(" 改为 "),n("code",[t._v("RunnableMixIn")]),t._v(" 和 "),n("code",[t._v("FlyableMixIn")]),t._v("。类似的，你还可以定义出肉食动物 "),n("code",[t._v("CarnivorousMixIn")]),t._v(" 和植食动物 "),n("code",[t._v("HerbivoresMixIn")]),t._v("，让某个动物同时拥有好几个 "),n("code",[t._v("MixIn")]),t._v("：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Dog")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Mammal"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" RunnableMixIn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" CarnivorousMixIn"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n")])])]),n("p",[n("strong",[t._v("小结")])]),t._v(" "),n("ul",[n("li",[t._v("Python 允许使用多重继承，MixIn 就是一种常见的设计；Python 自带的很多库也使用了 MixIn")]),t._v(" "),n("li",[t._v("MixIn 使得继承关系更加好区分，并且细分了代码逻辑功能，使得代码可读性提高")]),t._v(" "),n("li",[t._v("多重继承下，应由编写者自己避免 "),n("em",[t._v("不同父类如果有着相同的方法")]),t._v(" 这一问题")])]),t._v(" "),n("p",[n("br"),n("br")]),t._v(" "),n("h2",{attrs:{id:"_7-4-定制类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-定制类"}},[t._v("#")]),t._v(" 7.4.定制类")]),t._v(" "),n("p",[t._v("看到类似 "),n("code",[t._v("__slots__")]),t._v(" 这种形如 "),n("code",[t._v("__xxx__")]),t._v(" 的变量或者函数名就要注意，这些在 Python 中是有特殊用途的。")]),t._v(" "),n("p",[n("code",[t._v("__slots__")]),t._v(" 我们已经知道怎么用了，"),n("code",[t._v("__len__()")]),t._v(" 方法我们也知道是为了能让 class 作用于 "),n("code",[t._v("len()")]),t._v(" 函数。")]),t._v(" "),n("p",[t._v("除此之外，Python 的 class 中还有许多这样有特殊用途的函数，可以帮助我们定制类:")]),t._v(" "),n("h3",{attrs:{id:"str-和-repr"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#str-和-repr"}},[t._v("#")]),t._v(" "),n("code",[t._v("__str__")]),t._v(" 和 "),n("code",[t._v("__repr__")])]),t._v(" "),n("p",[n("code",[t._v("__str__()")]),t._v(" 用于"),n("strong",[t._v("漂亮地")]),t._v("打印实例内部重要的数据:")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" class Student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     def __init__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self, name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".         self.name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     def __str__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".         "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Student object (name: %s)'")]),t._v(" % self.name\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" print"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Michael'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")]),t._v("\nStudent object "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name: Michael"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Student"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Michael'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" s\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("__main__.Student object at 0x109afb31"),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("0")]),t._v(">")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果直接输入实例变量名，仍不能漂亮地打印")]),t._v("\n")])])]),n("p",[t._v("为了不使用 "),n("code",[t._v("print")]),t._v(" 仍旧能漂亮地打印，可以再定义一个 "),n("code",[t._v("__repr__()")]),t._v("，但是通常 "),n("code",[t._v("__str__()")]),t._v(" 和 "),n("code",[t._v("__repr__()")]),t._v(" 代码都是一样的，所以，有个偷懒的写法：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Student")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__init__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("__str__")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Student object (name=%s)'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" self"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n    __repr__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" __str__\n")])])]),n("p",[t._v("两者的区别：")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("__str__()")]),t._v(" 返回用户看到的字符串")]),t._v(" "),n("li",[n("code",[t._v("__repr__()")]),t._v(" 返回程序开发者看到的字符串，也就是说，"),n("code",[t._v("__repr__()")]),t._v(" 是为调试服务的（repr 是 report 的缩写）")])]),t._v(" "),n("p",[n("br"),n("br")]),t._v(" "),n("h3",{attrs:{id:"其他"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),n("p",[t._v("本节介绍的是最常用的几个定制方法，还有很多可定制的方法，请参考 "),n("a",{attrs:{href:"https://docs.python.org/3/reference/datamodel.html#special-method-names",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python 的官方文档"),n("OutboundLink")],1)]),t._v(" "),n("p",[n("br"),n("br")]),t._v(" "),n("h2",{attrs:{id:"_7-5-使用枚举类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-使用枚举类"}},[t._v("#")]),t._v(" 7.5.使用枚举类")]),t._v(" "),n("h3",{attrs:{id:"创建枚举类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建枚举类"}},[t._v("#")]),t._v(" 创建枚举类")]),t._v(" "),n("p",[t._v("方法 1 —— 使用 "),n("code",[t._v("Enum")]),t._v(" 类：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" enum "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Enum\n\nMonth "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Enum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Month'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jan'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Feb'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Mar'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Apr'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'May'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jun'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n                        "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Jul'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Aug'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Sep'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Oct'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Nov'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Dec'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("方法 2 —— 通过继承 "),n("code",[t._v("Enum")]),t._v(" 类，实现更精确地控制枚举类型：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v("  enum "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Enum\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("VIP")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Enum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tYELLOW "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\tRED  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n\tBLUE "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n")])])]),n("h3",{attrs:{id:"访问枚举类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#访问枚举类"}},[t._v("#")]),t._v(" 访问枚举类")]),t._v(" "),n("p",[t._v("方法 1 —— 像访问实例属性一样")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month.Feb\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Month.Feb: "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n")])])]),n("p",[t._v("方法 2 —— 像访问字典的 value 一样")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Dec'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Month.Dec: "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),t._v("\n")])])]),n("p",[t._v("其他的一些操作和集合/字典十分类似")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month.Feb.name      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 枚举名称")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Feb'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month.Feb.value     "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 枚举值")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 通过枚举值得到枚举类型")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Month.Mar: "),n("span",{pre:!0,attrs:{class:"token operator"}},[n("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("3")]),t._v(">")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    \n")])])]),n("p",[t._v("还可以遍历枚举类型，来查看所有的枚举成员：")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("v")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" Month:\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     print"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nMonth.Jan\nMonth.Feb\nMonth.Mar\nMonth.Apr\nMonth.May\nMonth.Jun\nMonth.Jul\nMonth.Aug\nMonth.Sep\nMonth.Oct\nMonth.Nov\nMonth.Dec\n")])])]),n("p",[t._v("再比如：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__members__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("items"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("     "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'=>'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("','")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" member"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nJan "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Jan "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nFeb "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Feb "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nMar "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Mar "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\nApr "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Apr "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\nMay "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("May "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\nJun "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Jun "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\nJul "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Jul "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\nAug "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Aug "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\nSep "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Sep "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("\nOct "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Oct "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("\nNov "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Nov "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("\nDec "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Month"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Dec "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n")])])]),n("p",[n("code",[t._v("value")]),t._v(" 属性则是自动赋给成员的 "),n("code",[t._v("int")]),t._v(" 常量，默认从 "),n("code",[t._v("1")]),t._v(" 开始计数。")]),t._v(" "),n("p",[t._v("如果需要更精确地控制枚举类型中的枚举值，可以从 "),n("code",[t._v("Enum")]),t._v(" 派生出自定义类：")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Math")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Enum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    PI "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.14")]),t._v("\n    G "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9.8")]),t._v("\n    V "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3e8")]),t._v("\n")])])]),n("h3",{attrs:{id:"重复的枚举类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#重复的枚举类型"}},[t._v("#")]),t._v(" 重复的枚举类型")]),t._v(" "),n("p",[t._v("当存在枚举成员的名称有重复时，则后面的枚举成员相当于第一个枚举成员的别名，而且在实际使用中，就是使用的第一次出现的枚举成员。")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Shape")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Enum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    SQUARE "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n    DIAMOND "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    CIRCLE "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n    ALIAS_FOR_SQUARE "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n")])])]),n("p",[t._v("如果尝试遍历枚举类型，则后面重复的不会被打印出来。但是，如果想要获取别名，我们可以使用属性 "),n("code",[t._v("__members__")]),t._v("，它是一个 OrderedDict，包括所有定义的枚举名称，包括别名。")]),t._v(" "),n("h3",{attrs:{id:"unique-确保枚举类型的唯一"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#unique-确保枚举类型的唯一"}},[t._v("#")]),t._v(" "),n("code",[t._v("@unique")]),t._v(" 确保枚举类型的唯一")]),t._v(" "),n("p",[t._v("枚举类型默认可以对相同的值使用别名，但有时我们需要确保枚举类型不能重复，我们也有办法使每个枚举值只出现一次。我们可以引入装饰器 "),n("code",[t._v("@unique")]),t._v("，它会遍历枚举成员，如果发现有重复就会立即抛出 ValueError。")]),t._v(" "),n("div",{staticClass:"language-bash extra-class"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" from enum "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" Enum, unique\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" @unique\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" class Mistake"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Enum"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     ONE "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     TWO "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     THREE "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".     FOUR "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nTraceback "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("most recent call last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":\nValueError: duplicate values found "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("enum "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Mistake'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(": FOUR -"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" THREE\n")])])]),n("h3",{attrs:{id:"使用枚举类型的好处"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用枚举类型的好处"}},[t._v("#")]),t._v(" 使用枚举类型的好处")]),t._v(" "),n("p",[t._v("枚举类可以方便地表示星期，月份等常数类型，如果你不用枚举类，那么你只能用数字或者字符串。如果你使用数字，用 1-7 来表示星期数，但一个数字在程序中不仅可以表示星期数，可能还有其他许多含义，这样你在写程序时就必须时刻记住这些数字的含义，这降低了程序的可读性，也导致容易出错。而当你使用字符串时，虽然没有明显的缺点，但在内存中字符串所占内存要比数字多，这就降低了程序的效率。")]),t._v(" "),n("div",{staticClass:"language-python extra-class"},[n("pre",{pre:!0,attrs:{class:"language-python"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用大写变量来定义一些常数，虽然可读性变好了，但是效率不高")]),t._v("\nJAN "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nFEB "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\nMAR "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\nNOV "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("\nDEC "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v("\n")])])]),n("p",[t._v("枚举类正好弥补了这两方面的缺点：")]),t._v(" "),n("ul",[n("li",[t._v("你可以在代码中使用枚举类")]),t._v(" "),n("li",[t._v("但在内存中存放时使用的是数字")])]),t._v(" "),n("p",[t._v("这样既提高了"),n("strong",[t._v("可读性")]),t._v("，又提高了"),n("strong",[t._v("程序效率")]),t._v("。更重要的是，Python 中的枚举类型是"),n("strong",[t._v("不可变类型")]),t._v("，又可以"),n("strong",[t._v("进行迭代")]),t._v("，这就意味着你可以随时使用枚举类型而不用担心改变了枚举类型的值。")]),t._v(" "),n("p",[n("br"),n("br")]),t._v(" "),n("h2",{attrs:{id:"_7-6-使用元类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-6-使用元类"}},[t._v("#")]),t._v(" 7.6.使用元类")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"title"}),n("p",[t._v("本节不做深入学习，待之后用到时再补充。")])]),n("p",[n("strong",[t._v("简单理解")])]),t._v(" "),n("blockquote",[n("p",[t._v("“元类就是深度的魔法，99%的用户应该根本不必为此操心。如果你想搞清楚究竟是否需要用到元类，那么你就不需要它。那些实际用到元类的人都非常清楚地知道他们需要做什么，而且根本不需要解释为什么要用元类。” —— Python 界的领袖 Tim Peters")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(524),alt:""}})]),t._v(" "),n("p",[n("em",[t._v("个人简单理解")]),t._v(" ：")]),t._v(" "),n("ul",[n("li",[t._v("类也是对象，可以理解为，元类 → 类 → 实例，即"),n("strong",[t._v("类是元类的实例")])]),t._v(" "),n("li",[t._v("class 的定义是运行时"),n("strong",[t._v("动态")]),t._v("创建的，而创建 class 的方法就是使用 "),n("code",[t._v("type()")]),t._v(" 函数")]),t._v(" "),n("li",[t._v("metaclass 是 Python 中非常具有魔术性的对象，它可以改变类创建时的行为")])]),t._v(" "),n("p",[n("strong",[t._v("主要应用")])]),t._v(" "),n("p",[t._v("元类的主要用途是创建API，一个典型的例子就是 Django ORM。")]),t._v(" "),n("p",[n("strong",[t._v("本节参考")])]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://reishin.me/python-metaclass/",target:"_blank",rel:"noopener noreferrer"}},[t._v("深入理解 Python 中的元类（metaclass）"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/23887627",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python进阶：一步步理解Python中的元类metaclass"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/65214982",target:"_blank",rel:"noopener noreferrer"}},[t._v("理解Python中的元类(metaclass)"),n("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);