(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{515:function(t,e,s){t.exports=s.p+"assets/img/40-re-revert.381df5ae.gif"},516:function(t,e,s){t.exports=s.p+"assets/img/40-re-reset-soft.e6572f84.gif"},517:function(t,e,s){t.exports=s.p+"assets/img/40-re-reset-hard.92e9d645.gif"},557:function(t,e,s){"use strict";s.r(e);var r=s(5),a=Object(r.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"_1-restore"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_1-restore"}},[t._v("#")]),t._v(" 1.restore")]),t._v(" "),r("div",{staticClass:"language-bash extra-class"},[r("pre",{pre:!0,attrs:{class:"language-bash"}},[r("code",[t._v("$ "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" restore "),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("--worktree"),r("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filename"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("   "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# (默认参数) 撤销文件在工作区的修改")]),t._v("\n$ "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" restore --staged "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filename"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("       "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 撤销文件在暂存区的修改")]),t._v("\n$ "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" restore -s HEAD~1 "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filename"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("      "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将当前工作区的文件切换到上个 commit 版本")]),t._v("\n$ "),r("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" restore -s "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("commit_id"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("filename"),r("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),r("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 将当前工作区的文件切换到指定 commit 版本")]),t._v("\n")])])]),r("div",{staticClass:"custom-block warning"},[r("p",{staticClass:"title"}),r("p",[r("code",[t._v("$ git restore <filename>")]),t._v(" 会将工作区内尚未 add 的修改全部撤销，请谨慎操作！")])]),r("p",[r("br"),r("br")]),t._v(" "),r("h2",{attrs:{id:"_2-revert"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-revert"}},[t._v("#")]),t._v(" 2.revert")]),t._v(" "),r("p",[r("code",[t._v("$ git revert")]),t._v(" 通过对特定的提交执行还原操作，这将会创建一个包含已还原修改的新提交。")]),t._v(" "),r("center",[r("img",{attrs:{src:s(515),align:"center"}})]),t._v(" "),r("p",[r("br"),r("br")]),t._v(" "),r("h2",{attrs:{id:"_3-reset"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_3-reset"}},[t._v("#")]),t._v(" 3.reset")]),t._v(" "),r("h3",{attrs:{id:"软重置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#软重置"}},[t._v("#")]),t._v(" 软重置")]),t._v(" "),r("hr"),t._v(" "),r("p",[r("code",[t._v("$ git reset (--soft) <commit_id>")]),t._v(" 或用 "),r("code",[t._v("HEAD~<number>")]),t._v(' 默认参数带的是软重置，软重置会将 HEAD 移至指定的提交（或与 HEAD 相对的提交的索引），而不会移除该提交之后加入的修改！因而执行完该操作后，会提醒有 "uncommitted changes"。')]),t._v(" "),r("center",[r("img",{attrs:{src:s(516),align:"center"}})]),t._v(" "),r("p",[r("br"),r("br")]),t._v(" "),r("h3",{attrs:{id:"硬重置"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#硬重置"}},[t._v("#")]),t._v(" 硬重置")]),t._v(" "),r("hr"),t._v(" "),r("p",[r("code",[t._v("$ git reset --hard <commit_id>")]),t._v(" 或用 "),r("code",[t._v("HEAD~<number>")]),t._v(' 有时候我们并不想保留特定提交引入的修改。不同于软重置，我们应该再也无需访问它们。Git 应该直接将整体状态直接重置到特定提交之前的状态：这甚至包括你在工作目录中和暂存文件上的修改。即丢弃了重置 "commit_id" 之后的所有提交中的所有修改。')]),t._v(" "),r("center",[r("img",{attrs:{src:s(517),align:"center"}})])],1)}),[],!1,null,null,null);e.default=a.exports}}]);